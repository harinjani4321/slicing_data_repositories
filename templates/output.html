<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Slicer - Output</title>
    <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" 
    rel="stylesheet" 
    integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" 
    crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="./static/css/index.css"/>
</head>
<body>
    <div class="container" id="header-main">
        <div class="row">
          <div class="col-1">
            <img src="{{url_for('static', filename='logo.jpeg')}}" id="logo-image" 
                height="128" width="128">
          </div>
          <div class="col-11">
            Data Slicer Tool
          </div>
        </div>
    </div>
    <div class="container" id="middle-main">
        <div class="row">
            <div class="col-3"></div>
            <div class="col-6" style="color: rgb(4, 180, 4);">
                The file {{name}} has been accepted.
            </div>
            <div class="col-3"></div>
        </div>
        <br>
        <!-- <div class="row button-row">
            <div class="col-2"></div>
            <div class="col-3 myheading2" align="right">
                Select Algorithm:
            </div>
            <div class="col-5" align="left">
                <input type="radio"  id="male" name="gender" value="male" checked>
                <label for="male" class="radio-btn">Decision Tree</label>
                <input type="radio" id="female" name="gender" value="female">
                <label for="female" class="radio-btn">Lattice Search</label>
            </div>
            <div class="col-2"></div>
        </div> -->
        <form method="POST" action="{{url_for('run')}}">
            <div class="row">
                <div class="col-2"></div>
                <div class="col-3 myheading2" align="right">
                    K(Number of Slices):
                </div>
                <div class="col-3">
                    <div class="slidecontainer-out" >
                        <input type="range" min="1" max="10" value="{{default_k}}" class="slider" id="myRange" name="sliderk">
                    </div>
                </div>
                <div class="col-2 myheading2" align="left">
                    <p><span id="demo"></span></p>
                    <script>
                        var slider = document.getElementById("myRange");
                        var output = document.getElementById("demo");
                        output.innerHTML = slider.value;

                        slider.oninput = function() {
                            output.innerHTML = this.value;
                        }
                        </script>
                </div>
                <div class="col-2"></div>        
            </div>
            <div class="row">
                <div class="col-2"></div>
                <div class="col-3 myheading2" align="right">
                    T(Threshold Effect Size):
                </div>
                <div class="col-3">
                    <div class="slidecontainer-out " >
                        <input type="range" min="0.1" max="0.50" step="0.01" value="{{default_t}}" class="slider" id="myRange2" name="slidert">
                    </div>
                </div>
                <div class="col-2 myheading2" align="left">
                    <p><span id="demo2"></span></p>
                    <script>
                    var slider2 = document.getElementById("myRange2");
                    var output2 = document.getElementById("demo2");
                    output2.innerHTML = slider2.value;

                    slider2.oninput = function() {
                        output2.innerHTML = this.value;
                    }
                    </script>    
                </div>  
                <div class="col-2"></div>      
            </div>
            <div class="row button-row">
                <div class="col-4"></div>
                <div class="col-4">
                    <button type="submit" class="btn btn-lg btn-success button-warning">
                        Run
                    </button>
                </div>
                <div class="col-4"></div>
            </div>
        </form>        
        <div class="row">
            <div class="col-4"></div>
            <div class="col-4">
                <a href="{{ url_for('download', filename='output.csv') }}">
                <button type="button" class="btn btn-lg btn-danger button-warning" style="font-size: 50%;">
                    Download Problematic Slices
                </button>
                </a>
            </div>
            <div class="col-4"></div>
        </div>
        <br>
        <br>
        <!-- <div class="row">
            <div class="col-1">Index</div>
            <div class="col-5">FV Pairs</div>
            <div class="col-2">Effect Size</div>
            <div class="col-2">Metric</div>
            <div class="col-2">Size</div>
        </div>
        <div id="holder">
            <!-- Prints here -->
        </div>
        <script>
            var data = "{{data_2|safe}}".split();
            console.log(data[0]);
            var holder = document.getElementById('holder');
            for(var i = 0; i < data.length; i++)
                holder.innerHTML = "<div class='row'>"
                    + "<div class='col-1'>" + (i + 1) + "</div>" 
                    + "<div class='col-5'>" + data[i]["Feature Value Pairs"] + "</div>" 
                    + "<div class='col-2'>" + data[i]["Effect Size"] + "</div>"
                    + "<div class='col-2'>" + data[i]["Metric"] + "</div>" 
                    + "<div class='col-2'>" + data[i]["Size"] + "</div>"
                    + "</div>";
        </script> -->
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
</body>
</html>